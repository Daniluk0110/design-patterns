# Singleton

Этот репозиторий содержит пример реализации паттерна Одиночка (Singleton) на языке программирования [PHP]. Реализация паттерна Одиночка позволяет создать только один экземпляр класса и предоставляет глобальную точку доступа к этому экземпляру.

## Описание
*Одиночка* - Это порождающий паттерн проектирования, который гарантирует, что у класса есть только один экземпляр, и предоставляет к нему глобальную точку доступа.
Одиночка решает сразу две проблемы, нарушая принцип единственной ответственности класса.
1. *Гарантирует наличие единственного экземпляра класса.* Чаще всего это полезно для доступа к какому-то общему ресурсу, например, базе данных.
2. *Предоставляет глобальную точку доступа.* Это не просто глобальная переменная, через которую можно достучаться к определённому объекту. Глобальные переменные не защищены от записи, поэтому любой код может подменять их значения без вашего ведома.

Представьте, что вы создали объект, а через некоторое время пробуете создать ещё один. В этом случае хотелось бы получить старый объект, вместо создания нового.
Такое поведение невозможно реализовать с помощью обычного конструктора, так как конструктор класса всегда возвращает новый объект.
Приватный конструктор __construct() предотвращает прямое создание объектов класса извне. Вместо этого, статический метод getInstance() проверяет наличие экземпляра класса. Если экземпляр еще не создан, он создает новый объект и сохраняет его в статическом поле instance. Затем метод возвращает экземпляр класса.
Дополнительные методы могут быть добавлены к классу Singleton и вызываться через полученный экземпляр класса.

## Решение
Все реализации одиночки сводятся к тому, чтобы скрыть конструктор по умолчанию и создать публичный статический метод, который и будет контролировать жизненный цикл объекта-одиночки.
Если у вас есть доступ к классу одиночки, значит, будет доступ и к этому статическому методу. Из какой точки кода вы бы его ни вызвали, он всегда будет отдавать один и тот же объект.


## Преимущества паттерна Одиночка
- Гарантирует существование только одного экземпляра класса.
- Предоставляет глобальную точку доступа к экземпляру.
- Поддерживает ленивую инициализацию - объект создается только при первом вызове метода getInstance().
- Обеспечивает контролируемый доступ к экземпляру класса.

## Ограничения паттерна Одиночка
- Потеря полиморфизма: так как Одиночка предоставляет только один экземпляр класса, он не позволяет создавать различные подтипы объекта.
- Затруднения в тестировании: статический доступ к объекту может затруднить модульное тестирование.

## Использование

```php
// Получение экземпляра класса Singleton
$connection = Connection::getInstance();

// Вызов методов объекта Singleton
$connection2::getName();
