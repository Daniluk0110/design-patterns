## üéØ –ü–∞—Ç—Ç–µ—Ä–Ω Strategy –Ω–∞ PHP  
_–°—Ç—Ä–∞—Ç–µ–≥–∏—è_

![](https://refactoring.guru/images/patterns/content/strategy/strategy.png)

## ‚úàÔ∏è –ê–Ω–∞–ª–æ–≥–∏—è –∏–∑ –∂–∏–∑–Ω–∏
–†–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø–æ–ø–∞–¥–∞–Ω–∏—è –≤ –∞—ç—Ä–æ–ø–æ—Ä—Ç:
![](https://refactoring.guru/images/patterns/content/strategy/strategy-comic-1-en.png)

–í–∞–º –Ω—É–∂–Ω–æ –¥–æ–±—Ä–∞—Ç—å—Å—è –¥–æ –∞—ç—Ä–æ–ø–æ—Ä—Ç–∞. –ú–æ–∂–Ω–æ –¥–æ–µ—Ö–∞—Ç—å –Ω–∞ –∞–≤—Ç–æ–±—É—Å–µ, —Ç–∞–∫—Å–∏ –∏–ª–∏ –≤–µ–ª–æ—Å–∏–ø–µ–¥–µ. –ó–¥–µ—Å—å –≤–∏–¥ —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–∞ —è–≤–ª—è–µ—Ç—Å—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π. –í—ã –≤—ã–±–∏—Ä–∞–µ—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é —Å—Ç—Ä–∞—Ç–µ–≥–∏—é –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ ‚Äî –Ω–∞–ª–∏—á–∏—è –¥–µ–Ω–µ–≥ –∏–ª–∏ –≤—Ä–µ–º–µ–Ω–∏ –¥–æ –æ—Ç–ª—ë—Ç–∞.

## üéØ –ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å
- **–ù—É–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–Ω—ã–µ –≤–∞—Ä–∏–∞—Ü–∏–∏ –æ–¥–Ω–æ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –≤ –æ–¥–Ω–æ–º –æ–±—ä–µ–∫—Ç–µ.** –ü–æ–≤–µ–¥–µ–Ω–∏–µ –º–æ–∂–Ω–æ –º–µ–Ω—è—Ç—å –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è.
- **–ï—Å—Ç—å –º–Ω–æ–≥–æ –ø–æ—Ö–æ–∂–∏—Ö –∫–ª–∞—Å—Å–æ–≤, –æ—Ç–ª–∏—á–∞—é—â–∏—Ö—Å—è —Ç–æ–ª—å–∫–æ –ø–æ–≤–µ–¥–µ–Ω–∏–µ–º.** –ü–æ–≤–µ–¥–µ–Ω–∏–µ –≤—ã–Ω–æ—Å–∏—Ç—Å—è –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏.
- **–ù–µ–ª—å–∑—è —Ä–∞—Å–∫—Ä—ã–≤–∞—Ç—å –¥–µ—Ç–∞–ª–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤.** –ö–æ–¥ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏–∑–æ–ª–∏—Ä—É—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ —Å—Ç—Ä–∞—Ç–µ–≥–∏–π.
- **–õ–æ–≥–∏–∫–∞ —Ä–∞–∑—Ä–æ—Å–ª–∞—Å—å –≤ –¥–ª–∏–Ω–Ω—ã–π —É—Å–ª–æ–≤–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä.** –ö–∞–∂–¥–∞—è –≤–µ—Ç–∫–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –æ—Ç–¥–µ–ª—å–Ω–æ–π —Å—Ç—Ä–∞—Ç–µ–≥–∏–µ–π.

## üß† –û–ø–∏—Å–∞–Ω–∏–µ

–ü–∞—Ç—Ç–µ—Ä–Ω **Strategy** (**–°—Ç—Ä–∞—Ç–µ–≥–∏—è**) ‚Äî —ç—Ç–æ **_–ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π_** –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å —Å–µ–º–µ–π—Å—Ç–≤–æ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤, –∏–Ω–∫–∞–ø—Å—É–ª–∏—Ä–æ–≤–∞—Ç—å –∏—Ö –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –∫–ª–∞—Å—Å—ã –∏ –¥–µ–ª–∞—Ç—å –∏—Ö –≤–∑–∞–∏–º–æ–∑–∞–º–µ–Ω—è–µ–º—ã–º–∏. –≠—Ç–æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–º–µ–Ω—è—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º—ã –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ –æ—Ç –∫–ª–∏–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –∏—Ö –∏—Å–ø–æ–ª—å–∑—É—é—Ç.

## üß™ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ PHP

- ‚úÖ –°–æ–∑–¥–∞–π—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Strategy`, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º—ã:
```php
<?php

interface Strategy
{
    public function execute(int $a, int $b): int;
}
```

- ‚úÖ –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã, –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—é—â–∏–µ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏:
```php
<?php

class AddStrategy implements Strategy
{
    public function execute(int $a, int $b): int
    {
        return $a + $b;
    }
}

class SubtractStrategy implements Strategy
{
    public function execute(int $a, int $b): int
    {
        return $a - $b;
    }
}

class MultiplyStrategy implements Strategy
{
    public function execute(int $a, int $b): int
    {
        return $a * $b;
    }
}
```

- ‚úÖ –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å `Context`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤:
```php
<?php

class Context
{
    private $strategy;

    public function __construct(Strategy $strategy)
    {
        $this->strategy = $strategy;
    }

    public function executeStrategy(int $a, int $b): int
    {
        return $this->strategy->execute($a, $b);
    }
}
```

- ‚úÖ –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω Strategy –¥–ª—è –≤—ã–±–æ—Ä–∞ –∏ –∑–∞–º–µ–Ω—ã –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ –≤ –æ–±—ä–µ–∫—Ç–µ `Context`:
```php
<?php

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
$contextAdd = new Context(new AddStrategy());
echo "Add: " . $contextAdd->executeStrategy(5, 3) . PHP_EOL;

$contextSubtract = new Context(new SubtractStrategy());
echo "Subtract: " . $contextSubtract->executeStrategy(10, 4) . PHP_EOL;

$contextMultiply = new Context(new MultiplyStrategy());
echo "Multiply: " . $contextMultiply->executeStrategy(7, 2) . PHP_EOL;
```

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- –ü–æ–∑–≤–æ–ª—è–µ—Ç –≤—ã–±–∏—Ä–∞—Ç—å –∞–ª–≥–æ—Ä–∏—Ç–º—ã –≤–æ –≤—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≥—Ä–∞–º–º—ã.
- –ò–∑–±–∞–≤–ª—è–µ—Ç –æ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞, —Å–≤—è–∑–∞–Ω–Ω–æ–≥–æ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ –≤–∞—Ä–∏–∞–Ω—Ç–∞–º–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤.
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∫–æ–¥–∞.

## ‚ö†Ô∏è –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏

- –£–≤–µ–ª–∏—á–∏–≤–∞–µ—Ç –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–ª–∞—Å—Å–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–µ, —Ç–∞–∫ –∫–∞–∫ –∫–∞–∂–¥–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è —Ç—Ä–µ–±—É–µ—Ç —Å–≤–æ–π —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–ª–∞—Å—Å.
