## üß± –ü–∞—Ç—Ç–µ—Ä–Ω Template Method –Ω–∞ PHP  
_–®–∞–±–ª–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥_

## üß† –°—É—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω–∞
–®–∞–±–ª–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ ‚Äî —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å–∫–µ–ª–µ—Ç –∞–ª–≥–æ—Ä–∏—Ç–º–∞, –ø–µ—Ä–µ–∫–ª–∞–¥—ã–≤–∞—è –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å –∑–∞ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –µ–≥–æ —à–∞–≥–∏ –Ω–∞ –ø–æ–¥–∫–ª–∞—Å—Å—ã. –ü–∞—Ç—Ç–µ—Ä–Ω –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–¥–∫–ª–∞—Å—Å–∞–º –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å —à–∞–≥–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞, –Ω–µ –º–µ–Ω—è—è –µ–≥–æ –æ–±—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã.  

![](https://refactoring.guru/images/patterns/content/template-method/template-method.png)   

## üèóÔ∏è –ê–Ω–∞–ª–æ–≥–∏—è –∏–∑ –∂–∏–∑–Ω–∏
![](https://refactoring.guru/images/patterns/diagrams/template-method/live-example.png?id=2485d52852f87da06c9cc0e2fd257d6a)

–ü—Ä–æ–µ–∫—Ç —Ç–∏–ø–æ–≤–æ–≥–æ –¥–æ–º–∞ –º–æ–≥—É—Ç –Ω–µ–º–Ω–æ–≥–æ –∏–∑–º–µ–Ω–∏—Ç—å –ø–æ –∂–µ–ª–∞–Ω–∏—é –∫–ª–∏–µ–Ω—Ç–∞.  

–°—Ç—Ä–æ–∏—Ç–µ–ª–∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç –ø–æ–¥—Ö–æ–¥, –ø–æ—Ö–æ–∂–∏–π –Ω–∞ —à–∞–±–ª–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –ø—Ä–∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–µ —Ç–∏–ø–æ–≤—ã—Ö –¥–æ–º–æ–≤. –£ –Ω–∏—Ö –µ—Å—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø—Ä–æ–µ–∫—Ç, –≤ –∫–æ—Ç–æ—Ä–æ–º —Ä–∞—Å–ø–∏—Å–∞–Ω—ã —à–∞–≥–∏ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å—Å—Ç–≤–∞: –∑–∞–ª–∏–≤–∫–∞ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞, –ø–æ—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç–µ–Ω, –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏–µ –∫—Ä—ã—à–∏, —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –æ–∫–æ–Ω –∏ —Ç–∞–∫ –¥–∞–ª–µ–µ.  

–ù–æ, –Ω–µ—Å–º–æ—Ç—Ä—è –Ω–∞ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏—é –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞, —Å—Ç—Ä–æ–∏—Ç–µ–ª–∏ –º–æ–≥—É—Ç –≤–Ω–æ—Å–∏—Ç—å –Ω–µ–±–æ–ª—å—à–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ –ª—é–±–æ–º –∏–∑ —ç—Ç–∞–ø–æ–≤, —á—Ç–æ–±—ã —Å–¥–µ–ª–∞—Ç—å –¥–æ–º —á—É—Ç–æ—á–∫—É –Ω–µ–ø–æ—Ö–æ–∂–∏–º –Ω–∞ –¥—Ä—É–≥–∏–µ.

## üéØ –ü—Ä–∏–º–µ–Ω–∏–º–æ—Å—Ç—å
- **–ù—É–∂–Ω–æ —Ä–∞—Å—à–∏—Ä—è—Ç—å –±–∞–∑–æ–≤—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º, –Ω–µ –º–µ–Ω—è—è –µ–≥–æ —Å—Ç—Ä—É–∫—Ç—É—Ä—É.** –ü–æ–¥–∫–ª–∞—Å—Å—ã –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–µ —à–∞–≥–∏.
- **–ï—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø–æ—Ö–æ–∂–∏—Ö –∫–ª–∞—Å—Å–æ–≤ —Å –Ω–µ–±–æ–ª—å—à–∏–º–∏ –æ—Ç–ª–∏—á–∏—è–º–∏.** –û–±—â–∏–π –∞–ª–≥–æ—Ä–∏—Ç–º –≤—ã–Ω–æ—Å–∏—Ç—Å—è –≤ —Å—É–ø–µ—Ä–∫–ª–∞—Å—Å, —Ä–∞–∑–ª–∏—á–∏—è ‚Äî –≤ –ø–æ–¥–∫–ª–∞—Å—Å—ã.

## üß† –û–ø–∏—Å–∞–Ω–∏–µ

–ü–∞—Ç—Ç–µ—Ä–Ω **Template Method** (**_–®–∞–±–ª–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥_**) ‚Äî —ç—Ç–æ –ø–æ–≤–µ–¥–µ–Ω—á–µ—Å–∫–∏–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∞–ª–≥–æ—Ä–∏—Ç–º–∞, –Ω–æ –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —à–∞–≥–æ–≤ –ø–æ–¥–∫–ª–∞—Å—Å–∞–º. –≠—Ç–æ –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–µ —à–∞–≥–∏ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –≤ –ø–æ–¥–∫–ª–∞—Å—Å–∞—Ö, —Å–æ—Ö—Ä–∞–Ω—è—è –æ–±—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É.

## ‚ö° –í –¥–≤—É—Ö —Å–ª–æ–≤–∞—Ö
–ï—Å—Ç—å ¬´—Å–∫–µ–ª–µ—Ç¬ª –∞–ª–≥–æ—Ä–∏—Ç–º–∞, –∞ –ø–æ–¥–∫–ª–∞—Å—Å—ã –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª—è—é—Ç –æ—Ç–¥–µ–ª—å–Ω—ã–µ —à–∞–≥–∏.

## üß™ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ PHP

- ‚úÖ –û–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å `AbstractClass`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å —à–∞–±–ª–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ –∏ –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ –±–∞–∑–æ–≤—ã–µ —à–∞–≥–∏:
```php
<?php

abstract class AbstractClass
{
    // –®–∞–±–ª–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥
    final public function templateMethod(): void
    {
        $this->step1();
        $this->step2();
        $this->step3();
    }

    abstract protected function step1(): void;
    abstract protected function step2(): void;
    abstract protected function step3(): void;
}
```

- ‚úÖ –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –∫–ª–∞—Å—Å—ã, –Ω–∞—Å–ª–µ–¥—É—é—â–∏–µ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π `AbstractClass`, –∏ –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ –µ–≥–æ —à–∞–≥–∏:
```php
<?php

class ConcreteClassA extends AbstractClass
{
    protected function step1(): void
    {
        echo "ConcreteClassA: Step 1\n";
    }

    protected function step2(): void
    {
        echo "ConcreteClassA: Step 2\n";
    }

    protected function step3(): void
    {
        echo "ConcreteClassA: Step 3\n";
    }
}

class ConcreteClassB extends AbstractClass
{
    protected function step1(): void
    {
        echo "ConcreteClassB: Step 1\n";
    }

    protected function step2(): void
    {
        echo "ConcreteClassB: Step 2\n";
    }

    protected function step3(): void
    {
        echo "ConcreteClassB: Step 3\n";
    }
}
```

- ‚úÖ –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω Template Method –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–≤ —Å –æ–±—â–µ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π:
```php
<?php

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
$objectA = new ConcreteClassA();
$objectB = new ConcreteClassB();

$objectA->templateMethod();
// Output:
// ConcreteClassA: Step 1
// ConcreteClassA: Step 2
// ConcreteClassA: Step 3

$objectB->templateMethod();
// Output:
// ConcreteClassB: Step 1
// ConcreteClassB: Step 2
// ConcreteClassB: Step 3
```

## üß© –ü—Ä–∏–º–µ—Ä –∏–∑ Design Patterns for Humans
_–°–±–æ—Ä–∫–∞ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º ‚Äî –æ–±—â–∞—è —Å—Ö–µ–º–∞, —Ä–∞–∑–Ω—ã–µ —à–∞–≥–∏._

```php
<?php

$builder = new AndroidBuilder();
$builder->build();

$builder = new IosBuilder();
$builder->build();
```

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- –ü–æ–∑–≤–æ–ª—è–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å –æ–±—â—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∞–ª–≥–æ—Ä–∏—Ç–º–∞ –∏ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é —à–∞–≥–æ–≤ –ø–æ–¥–∫–ª–∞—Å—Å–∞–º.
- –£–ª—É—á—à–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–æ–¥–∞.

## ‚ö†Ô∏è –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏

- –ü–æ–¥–∫–ª–∞—Å—Å—ã –º–æ–≥—É—Ç –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–µ—Ä–µ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —à–∞–≥–æ–≤, —Ç–∞–∫ –∫–∞–∫ —à–∞–±–ª–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ —É–∂–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –≤ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω–æ–º –∫–ª–∞—Å—Å–µ.
- –í—ã –∂—ë—Å—Ç–∫–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã —Å–∫–µ–ª–µ—Ç–æ–º —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ –∞–ª–≥–æ—Ä–∏—Ç–º–∞.
- –í—ã –º–æ–∂–µ—Ç–µ –Ω–∞—Ä—É—à–∏—Ç—å –ø—Ä–∏–Ω—Ü–∏–ø –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–∏ –ë–∞—Ä–±–∞—Ä—ã –õ–∏—Å–∫–æ–≤, –∏–∑–º–µ–Ω—è—è –±–∞–∑–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –∏–∑ —à–∞–≥–æ–≤ –∞–ª–≥–æ—Ä–∏—Ç–º–∞ —á–µ—Ä–µ–∑ –ø–æ–¥–∫–ª–∞—Å—Å.
- –° —Ä–æ—Å—Ç–æ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —à–∞–≥–æ–≤ —à–∞–±–ª–æ–Ω–Ω—ã–π –º–µ—Ç–æ–¥ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è —Å–ª–∏—à–∫–æ–º —Å–ª–æ–∂–Ω–æ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å.
