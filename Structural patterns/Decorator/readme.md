## üéÅ –ü–∞—Ç—Ç–µ—Ä–Ω Decorator –Ω–∞ PHP  
_–î–µ–∫–æ—Ä–∞—Ç–æ—Ä_

![image](https://refactoring.guru/images/patterns/content/decorator/decorator.png)

## üëï –ê–Ω–∞–ª–æ–≥–∏—è –∏–∑ –∂–∏–∑–Ω–∏
–û–¥–µ–∂–¥—É –º–æ–∂–Ω–æ –Ω–∞–¥–µ–≤–∞—Ç—å —Å–ª–æ—è–º–∏, –ø–æ–ª—É—á–∞—è –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —ç—Ñ—Ñ–µ–∫—Ç.
![](https://refactoring.guru/images/patterns/content/decorator/decorator-comic-1.png)

## üß† –û–ø–∏—Å–∞–Ω–∏–µ

–ü–∞—Ç—Ç–µ—Ä–Ω **Decorator** (**–î–µ–∫–æ—Ä–∞—Ç–æ—Ä**) ‚Äî —ç—Ç–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –ø–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞–º, –Ω–µ –∏–∑–º–µ–Ω—è—è –∏—Ö –∫–æ–¥. –î–µ–∫–æ—Ä–∞—Ç–æ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫–æ–º–ø–æ–∑–∏—Ü–∏—é –æ–±—ä–µ–∫—Ç–æ–≤ –¥–ª—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –æ–±—ä–µ–∫—Ç—ã.

## ‚ö° –í –¥–≤—É—Ö —Å–ª–æ–≤–∞—Ö
–û–±–æ—Ä–∞—á–∏–≤–∞–µ–º –æ–±—ä–µ–∫—Ç –∏ –¥–æ–±–∞–≤–ª—è–µ–º –ø–æ–≤–µ–¥–µ–Ω–∏–µ ¬´—Å–Ω–∞—Ä—É–∂–∏¬ª, –Ω–µ –º–µ–Ω—è—è –∏—Å—Ö–æ–¥–Ω—ã–π –∫–ª–∞—Å—Å.

## ‚òï –ü—Ä–∏–º–µ—Ä –∏–∑ Design Patterns for Humans
_–ö–æ—Ñ–µ + –¥–æ–±–∞–≤–∫–∏ (–º–æ–ª–æ–∫–æ, –≤–∞–Ω–∏–ª—å –∏ —Ç.–¥.)._

```php
<?php

$coffee = new SimpleCoffee();
echo $coffee->getCost(); // 10

$coffee = new MilkCoffee($coffee);
echo $coffee->getCost(); // 12
```

## üß™ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ PHP

- ‚úÖ –°–æ–∑–¥–∞–π—Ç–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `Component`, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –±–∞–∑–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã:
```php
<?php

interface Component
{
    public function operation(): string;
}
```

- ‚úÖ –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç, –∫ –∫–æ—Ç–æ—Ä–æ–º—É –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª—è—Ç—å—Å—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã:
```php
<?php

class ConcreteComponent implements Component
{
    public function operation(): string
    {
        return "ConcreteComponent";
    }
}
```

- ‚úÖ –°–æ–∑–¥–∞–π—Ç–µ –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –∫–ª–∞—Å—Å `Decorator`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å –∞–±—Å—Ç—Ä–∞–∫—Ç–Ω—ã–π –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä:
```php
<?php

abstract class Decorator implements Component
{
    protected $component;

    public function __construct(Component $component)
    {
        $this->component = $component;
    }

    abstract public function operation(): string;
}
```

- ‚úÖ –†–µ–∞–ª–∏–∑—É–π—Ç–µ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã, –∫–æ—Ç–æ—Ä—ã–µ –¥–æ–±–∞–≤–ª—è—é—Ç —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∫ –±–∞–∑–æ–≤–æ–º—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É:
```php
<?php

class ConcreteDecoratorA extends Decorator
{
    public function operation(): string
    {
        return "ConcreteDecoratorA(" . $this->component->operation() . ")";
    }
}

class ConcreteDecoratorB extends Decorator
{
    public function operation(): string
    {
        return "ConcreteDecoratorB(" . $this->component->operation() . ")";
    }
}
```

- ‚úÖ –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω Decorator –¥–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –∫ –æ–±—ä–µ–∫—Ç–∞–º:
```php
<?php

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
$component = new ConcreteComponent();
$decoratorA = new ConcreteDecoratorA($component);
$decoratorB = new ConcreteDecoratorB($decoratorA);

echo $decoratorB->operation(); // Output: ConcreteDecoratorB(ConcreteDecoratorA(ConcreteComponent))
```

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- –ü–æ–∑–≤–æ–ª—è–µ—Ç –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ –æ–±—ä–µ–∫—Ç–∞–º –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è –∏—Ö –∫–æ–¥–∞.
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≥–∏–±–∫–æ—Å—Ç—å –∏ —Ä–∞—Å—à–∏—Ä—è–µ–º–æ—Å—Ç—å, —Ç–∞–∫ –∫–∞–∫ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä—ã –º–æ–∂–Ω–æ –∫–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞—Ç—å –≤ —Ä–∞–∑–Ω—ã—Ö –∫–æ–º–±–∏–Ω–∞—Ü–∏—è—Ö.

## ‚ö†Ô∏è –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏

- –£—Å–ª–æ–∂–Ω—è–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä—É –∫–æ–¥–∞, —Ç–∞–∫ –∫–∞–∫ —Ç—Ä–µ–±—É–µ—Ç —Å–æ–∑–¥–∞–Ω–∏—è –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–ª–∞—Å—Å–æ–≤ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–º–±–∏–Ω–∞—Ü–∏–∏ –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤.
- –ú–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å –∫–æ–¥ –º–µ–Ω–µ–µ —á–∏—Ç–∞–µ–º—ã–º –∏ —É—Å–ª–æ–∂–Ω–∏—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ—Ä—è–¥–∫–∞ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –¥–µ–∫–æ—Ä–∞—Ç–æ—Ä–æ–≤.
