## üóÉÔ∏è –ü–∞—Ç—Ç–µ—Ä–Ω Registry –Ω–∞ PHP  
_–†–µ–µ—Å—Ç—Ä_

## üß† –û–ø–∏—Å–∞–Ω–∏–µ

–ü–∞—Ç—Ç–µ—Ä–Ω Registry (–†–µ–µ—Å—Ç—Ä) ‚Äî —ç—Ç–æ –ø–∞—Ç—Ç–µ—Ä–Ω –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –µ–¥–∏–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–±—ä–µ–∫—Ç–∞–º –∏–ª–∏ —Å–µ—Ä–≤–∏—Å–∞–º –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏. –†–µ–µ—Å—Ç—Ä –¥–µ–π—Å—Ç–≤—É–µ—Ç –∫–∞–∫ –≥–ª–æ–±–∞–ª—å–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ, –≥–¥–µ –æ–±—ä–µ–∫—Ç—ã –º–æ–≥—É—Ç –±—ã—Ç—å –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã –ø–æ–¥ —É–Ω–∏–∫–∞–ª—å–Ω—ã–º–∏ –∫–ª—é—á–∞–º–∏ –∏ –∑–∞—Ç–µ–º –∏–∑–≤–ª–µ—á–µ–Ω—ã –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞ –≤ –ª—é–±–æ–π —á–∞—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –≠—Ç–æ—Ç –ø–∞—Ç—Ç–µ—Ä–Ω —É–ø—Ä–æ—â–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –µ–¥–∏–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–±—â–∏–º —Ä–µ—Å—É—Ä—Å–∞–º.

## üß™ –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ PHP

- ‚úÖ –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å `Registry`, –∫–æ—Ç–æ—Ä—ã–π –±—É–¥–µ—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è—Ç—å —Ä–µ–µ—Å—Ç—Ä –æ–±—ä–µ–∫—Ç–æ–≤:
```php
<?php

class Registry
{
    private static $instances = [];

    final public static function setInstance(string $key, $instance): void
    {
        self::$instances[$key] = $instance;
    }

    final public static function getInstance(string $key)
    {
        if (!isset(self::$instances[$key])) {
            throw new Exception("Instance not found in registry: $key");
        }

        return self::$instances[$key];
    }

    final public static function hasInstance(string $key): bool
    {
        return isset(self::$instances[$key]);
    }
}
```

- ‚úÖ –°–æ–∑–¥–∞–π—Ç–µ –∫–ª–∞—Å—Å—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å—Å—è –≤ —Ä–µ–µ—Å—Ç—Ä–µ:
```php
<?php

class Logger
{
    public function log(string $message): void
    {
        echo "Logging: $message" . PHP_EOL;
    }
}

class Database
{
    public function query(string $sql): void
    {
        echo "Executing query: $sql" . PHP_EOL;
    }
}
```

- ‚úÖ –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø–∞—Ç—Ç–µ—Ä–Ω Registry –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏ –∏ –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–±—ä–µ–∫—Ç–∞–º:
```php
<?php

// –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
$logger = new Logger();
$database = new Database();

// –†–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ–º –æ–±—ä–µ–∫—Ç—ã –≤ —Ä–µ–µ—Å—Ç—Ä–µ
Registry::setInstance('logger', $logger);
Registry::setInstance('database', $database);

// –ü–æ–ª—É—á–∞–µ–º –æ–±—ä–µ–∫—Ç—ã –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞
$loggerFromRegistry = Registry::getInstance('logger');
$databaseFromRegistry = Registry::getInstance('database');

// –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ–±—ä–µ–∫—Ç—ã –∏–∑ —Ä–µ–µ—Å—Ç—Ä–∞
$loggerFromRegistry->log('Hello, Registry!'); // Output: Logging: Hello, Registry!
$databaseFromRegistry->query('SELECT * FROM table'); // Output: Executing query: SELECT * FROM table
```

## ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- –£–ø—Ä–æ—â–∞–µ—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ –∏ –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –µ–¥–∏–Ω–æ–µ –º–µ—Å—Ç–æ –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –æ–±—â–∏–º —Ä–µ—Å—É—Ä—Å–∞–º.
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –∏–∑–±–µ–∂–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö, —á—Ç–æ –º–æ–∂–µ—Ç —É–º–µ–Ω—å—à–∏—Ç—å —Å–≤—è–∑–∞–Ω–Ω–æ—Å—Ç—å –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.
- –û–±–ª–µ–≥—á–∞–µ—Ç –æ—Ç–ª–∞–¥–∫—É –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ, —Ç–∞–∫ –∫–∞–∫ —Ä–µ–µ—Å—Ç—Ä –º–æ–∂–µ—Ç –±—ã—Ç—å –∑–∞–º–µ–Ω–µ–Ω –Ω–∞ –º–æ–∫–∏ –∏–ª–∏ –∑–∞–≥–ª—É—à–∫–∏.

## ‚ö†Ô∏è –ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏

- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ä–µ–µ—Å—Ç—Ä–∞ –º–æ–∂–µ—Ç —Å–¥–µ–ª–∞—Ç—å –∫–æ–¥ –º–µ–Ω–µ–µ —á–∏—Ç–∞–µ–º—ã–º –∏ —É—Å–ª–æ–∂–Ω–∏—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π.
- –ó–ª–æ—É–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º Registry –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –ø—Ä–æ–±–ª–µ–º–∞–º —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∫–æ–¥–∞, —Ç–∞–∫ –∫–∞–∫ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è –º–µ–Ω–µ–µ –æ—á–µ–≤–∏–¥–Ω—ã–º–∏.
